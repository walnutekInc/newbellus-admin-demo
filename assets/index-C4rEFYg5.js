import{_ as J}from"./index.vuevuetypescriptsetuptruelang-DNsuqbbt.js";import{_ as Q}from"./index.vuevuetypestyleindex0lang-HDsWQUX7.js";import{_ as F}from"./index.vuevuetypescriptsetuptruelang-O913YC12.js";import{_ as P}from"./index-CS5NO12N.js";import{t as ee,c as te,v as I,m as le,u as ae,I as oe,n as se,w as ne,x as re,F as ie,e as ue}from"./antd-Ca0Vg3PV.js";import{h as de,l as R}from"./index-DN9jHWa_.js";import{d as G,f as D,r as A,$ as d,Y as O,Z as n,k as l,a9 as s,ac as k,u as e,a6 as m,a7 as ce,F as N,H as pe,ab as me,a8 as _e,G as z,a5 as q,a3 as x}from"./vue-BrVXbuSH.js";import"./context-CK8kwsTR.js";import"./plugin-vueexport-helper-DlAUqK2U.js";var ve={exports:{}};(function(L,M){(function(v,h){L.exports=h(ee)})(te,function(v){function h(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var _=h(v),T={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(i,r){return r==="W"?i+"週":i+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(i,r){var u=100*i+r;return u<600?"凌晨":u<900?"早上":u<1100?"上午":u<1300?"中午":u<1800?"下午":"晚上"}};return _.default.locale(T,null,!0),T})})(ve);const fe={class:"col-12 md:col-6"},be={class:"col-12 md:col-6"},ge={class:"col-12"},he={class:"col-12"},ye={class:"col-12 md:col-6"},ke={class:"w-full"},xe={class:"col-12 md:col-6"},Te={class:"col-12"},Ce={class:"col-12"},Ye={class:"col-11"},we={class:"row"},Ie={class:"col-12 md:col-5"},Me={class:"col-12 md:col-2"},je={class:"col-12 md:col-5"},De={class:"col-1 mx--3"},Ne=G({__name:"EditModal",setup(L,{expose:M}){I.locale("zh-tw");const v=[{label:"1L發酵槽 2 號機",value:"1"},{label:"1L發酵槽 4 號機",value:"2"}],h=[{label:"酸鹼值",value:"1"},{label:"轉速",value:"2"},{label:"溫度",value:"3"},{label:"槽壓",value:"4"},{label:"溶氧",value:"5"},{label:"資料傳輸時間",value:"5"}],_=[{label:">",value:">"},{label:">=",value:">="},{label:"=",value:"="},{label:"<=",value:"<="},{label:"<",value:"<"}],T=[{label:"成員A",value:"A"},{label:"成員B",value:"B"},{label:"成員C",value:"C"},{label:"成員D",value:"D"}],i=[{label:"負責人A",value:"A"},{label:"負責人B",value:"B"},{label:"負責人C",value:"C"},{label:"負責人D",value:"D"}],r=[{label:"A菌",value:"A"},{label:"B菌",value:"B"},{label:"C菌",value:"C"},{label:"D菌",value:"D"}],u=D(!1),w=D(),C=D(!0),j={projectName:"",strain:void 0,personInCharge:void 0,projectMembers:[],startTime:I(),endTime:I(),facilities:[],alerts:[]},t=A(le(j)),y=A({projectName:[{message:"請輸入專案名稱",required:!0,trigger:"blur"}],personInCharge:[{message:"請選擇負責人",required:!0,trigger:"blur"}],strain:[{message:"請選擇菌株",required:!0,trigger:"blur"}],startTime:[{message:"請選擇開始時間",required:!0,trigger:"blur"}],endTime:[{message:"請選擇結束時間",required:!0,trigger:"blur"}],facilities:[{message:"請選擇使用設備",required:!0,trigger:"blur"}],alerts:[{message:"請輸入警報設定",required:!1,trigger:"blur"}]}),f=de(),{validateInfos:c,validate:V,resetFields:S}=ae(t,y);async function K(){try{console.log(t),await V(),f.success({message:C.value?"新增專案成功":"編輯專案成功",placement:"top"}),u.value=!1}catch(p){console.error(p)}}function W(p){u.value=!0,p?(C.value=!1,w.value=p,S({...p,projectMembers:p.projectMembers||[],startTime:I(p.startTime),endTime:p.endTime?I(p.endTime):void 0})):(C.value=!0,S(j))}return M({show:W}),(p,o)=>{const U=oe,b=se,Y=ne,H=re,$=P,B=F,X=ie,Z=ue;return d(),O(Z,{open:e(u),"onUpdate:open":o[8]||(o[8]=a=>pe(u)?u.value=a:null),title:e(C)?"新增專案":"編輯專案",centered:"","ok-text":"確定","cancel-text":"取消",width:"628px","ok-button-props":{class:"mb-5"},"cancel-button-props":{class:"mb-5"},onOk:K},{default:n(()=>[l(X,{layout:"vertical",autocomplete:"off",class:"row g-4"},{default:n(()=>[s("div",fe,[l(b,k(e(c).projectName,{label:"專案名稱"}),{default:n(()=>[l(U,{value:e(t).projectName,"onUpdate:value":o[0]||(o[0]=a=>e(t).projectName=a),placeholder:"請輸入"},null,8,["value"])]),_:1},16)]),s("div",be,[l(b,k(e(c).personInCharge,{label:"專案負責人"}),{default:n(()=>[l(Y,{value:e(t).personInCharge,"onUpdate:value":o[1]||(o[1]=a=>e(t).personInCharge=a),options:i,placeholder:"請選擇"},null,8,["value"])]),_:1},16)]),s("div",ge,[l(b,{label:"專案成員"},{default:n(()=>[l(Y,{value:e(t).projectMembers,"onUpdate:value":o[2]||(o[2]=a=>e(t).projectMembers=a),mode:"multiple",options:T,placeholder:"請選擇"},null,8,["value"])]),_:1})]),s("div",he,[l(b,k(e(c).strain,{label:"菌株"}),{default:n(()=>[l(Y,{value:e(t).strain,"onUpdate:value":o[3]||(o[3]=a=>e(t).strain=a),options:r,placeholder:"請選擇"},null,8,["value"])]),_:1},16)]),s("div",ye,[l(b,k(e(c).startTime,{label:"開始時間"}),{default:n(()=>[s("div",ke,[l(H,{value:e(t).startTime,"onUpdate:value":o[4]||(o[4]=a=>e(t).startTime=a),size:"large",locale:e(R),placeholder:"請選擇"},null,8,["value","locale"])])]),_:1},16)]),s("div",xe,[l(b,k(e(c).endTime,{label:"結束時間"}),{default:n(()=>[l(H,{value:e(t).endTime,"onUpdate:value":o[5]||(o[5]=a=>e(t).endTime=a),size:"large",locale:e(R),placeholder:"請選擇"},null,8,["value","locale"])]),_:1},16)]),s("div",Te,[l(b,k(e(c).facilities,{label:"使用設備"}),{default:n(()=>[l(Y,{value:e(t).facilities,"onUpdate:value":o[6]||(o[6]=a=>e(t).facilities=a),mode:"multiple",disabled:!e(t).startTime,options:v,placeholder:"請輸入"},null,8,["value","disabled"])]),_:1},16)]),s("div",Ce,[l(b,k(e(c).alerts,{label:"警報設定"}),{default:n(()=>[(d(!0),m(N,null,ce(e(t).alerts,(a,E)=>(d(),m("div",{key:E,class:me([{hidden:e(t).alerts.length===0},"bg-neutral-100 p-4 my-2 row"])},[s("div",Ye,[s("div",null,[l(U,{value:a.name,"onUpdate:value":g=>a.name=g,class:"mb-2",placeholder:"請輸入警報名稱"},null,8,["value","onUpdate:value"])]),s("div",we,[s("div",Ie,[l(Y,{value:a.target,"onUpdate:value":g=>a.target=g,options:h,placeholder:"請選擇檢測欄位"},null,8,["value","onUpdate:value"])]),s("div",Me,[l(Y,{value:a.operator,"onUpdate:value":g=>a.operator=g,options:_},null,8,["value","onUpdate:value"])]),s("div",je,[l(U,{value:a.threshold,"onUpdate:value":g=>a.threshold=g,placeholder:"請輸入值"},null,8,["value","onUpdate:value"])])])]),s("div",De,[l(B,{type:"ghost",size:"small",onClick:g=>e(t).alerts=e(t).alerts.splice(E,1)},{default:n(()=>[l($,{name:"close",width:"16px"})]),_:2},1032,["onClick"])])],2))),128)),l(B,{color:"secondary",size:"small",onClick:o[7]||(o[7]=a=>e(t).alerts.push({name:"",target:"",operator:"",threshold:0}))},{default:n(()=>[l($,{name:"plus",width:"16px"}),o[9]||(o[9]=s("span",null,"新增",-1))]),_:1})]),_:1},16)])]),_:1})]),_:1},8,["open","title"])}}}),Le={key:0,class:"text-neutral-900"},Ue={key:0,class:"border border-solid rounded-full px-2 py-0.5 border-brown-500 text-brown-500"},Oe={key:1,class:"border border-solid rounded-full px-2 py-0.5 border-neutral-600 text-neutral-600"},Se={key:2,class:"border border-solid rounded-full px-2 py-0.5 border-neutral-600 text-neutral-600"},He={key:1,class:"text-neutral-600 h-[300px] md:h-[500px] text-lg flex justify-center items-center font-bold"},Ge=G({__name:"index",setup(L){const M=_e(),v=D(null),h=[{title:"專案名稱",dataIndex:"projectName",key:"projectName"},{title:"菌株",dataIndex:"strain",key:"strain"},{title:"狀態",dataIndex:"status",key:"status"},{title:"負責人",dataIndex:"personInCharge",key:"personInCharge"},{title:"開始時間",dataIndex:"startTime",key:"startTime"},{title:"結束時間",dataIndex:"endTime",key:"endTime"},{title:"操作",dataIndex:"actions",key:"actions"}],_=[{id:"1",projectName:"K專案",strain:"益生菌X",status:"NOT_STARTED",personInCharge:"黃飛飛",startTime:"2024/10/20 12:00:00"},{id:"2",projectName:"A專案",strain:"乳酸菌Om",status:"IN_PROGRESS",personInCharge:"陳怡靜",startTime:"2024/10/20 12:00:00"},{id:"3",projectName:"B專案",strain:"乳酸菌Beta",status:"COMPLETED",personInCharge:"陳怡靜",startTime:"2024/10/1 12:00:00",endTime:"2024/10/10 20:00:00"}],T={total:_.length,pages:1,size:10,current:1,countRange:"1"};return(i,r)=>{const u=P,w=F,C=Q,j=J;return d(),O(j,{title:"專案管理"},{extraContent:n(()=>[l(w,{color:"primary",onClick:r[0]||(r[0]=t=>{var y;return(y=e(v))==null?void 0:y.show()})},{icon:n(()=>[l(u,{name:"plus",width:"16px"})]),default:n(()=>[r[1]||(r[1]=z(" 新增專案 "))]),_:1})]),default:n(()=>[s("div",null,[(_==null?void 0:_.length)>0?(d(),O(C,{key:0,columns:h,"table-layout":"auto",scroll:{x:"max-content"},"data-source":_,pagination:T},{bodyCell:n(({column:t,record:y,text:f})=>[t.key!=="status"&&t.key!=="endTime"&&t.key!=="actions"?(d(),m("span",Le,q(f),1)):x("",!0),t.key==="status"?(d(),m(N,{key:1},[f==="IN_PROGRESS"?(d(),m("span",Ue,"進行中")):x("",!0),f==="NOT_STARTED"?(d(),m("span",Oe,"未開始")):x("",!0),f==="COMPLETED"?(d(),m("span",Se,"已結束")):x("",!0)],64)):x("",!0),t.key==="endTime"?(d(),m(N,{key:2},[z(q(f||"-"),1)],64)):x("",!0),t.key==="actions"?(d(),m(N,{key:3},[l(w,{color:"link",onClick:()=>{var c;return(c=e(v))==null?void 0:c.show(y)}},{default:n(()=>r[2]||(r[2]=[s("span",{class:"text-brown-500 underline underline-offset-4 text-sm"},"編輯",-1)])),_:2},1032,["onClick"]),l(w,{color:"link",onClick:()=>e(M).push({name:"ProjectAnalysis",params:{projectId:y.id}})},{default:n(()=>r[3]||(r[3]=[s("span",{class:"text-brown-500 underline underline-offset-4 text-sm"},"數據檢視",-1)])),_:2},1032,["onClick"])],64)):x("",!0)]),_:1})):(d(),m("div",He," 沒有資料 "))]),l(Ne,{ref_key:"editModalRef",ref:v},null,512)]),_:1})}}});export{Ge as default};
