import{q as r}from"./index-DMRLcZlW.js";import{aj as Q,s as M,c as t,r as g,w as y}from"./vue-BrVXbuSH.js";function T(e,x={}){const H=M(!1),W=t(()=>e.logo),C=t(()=>e.title),m=t(()=>e.layout),b=t(()=>e.collapsedWidth),w=t(()=>e.siderWidth),o=t(()=>e.menuData),d=t(()=>e.splitMenus),j=t(()=>e.fixedHeader),D=t(()=>e.fixedSider),L=t(()=>e.collapsed),k=t(()=>e.headerCollapsed),E=t(()=>e.theme),P=t(()=>e.headerHeight),U=t(()=>e.contentWidth),q=t(()=>e.copyright),v=t(()=>e.isMobile),h=M(!1),F=()=>{h.value=!h.value},I=t(()=>e.header),O=t(()=>e.menu),R=t(()=>e.footer),z=t(()=>e.menuHeader),i=g(new Map),l=g({selectedKeys:[]});y(o,()=>{var n;i.clear(),(n=o.value)==null||n.forEach(a=>{i.set(a.path,a)})},{immediate:!0});const A=t(()=>{var a,c;if(v.value||m.value!=="mix"||!d.value)return o.value;const n=(a=l.selectedKeys)==null?void 0:a[0];return n?((c=i.get(n))==null?void 0:c.children)??[]:[]}),B=n=>{l.selectedKeys=n},K=t(()=>e.openKeys),u=t(()=>e.selectedKeys),G=n=>{r(e["onUpdate:openKeys"],n)},J=n=>{r(e["onUpdate:selectedKeys"],n)},N=n=>{r(e.onMenuSelect,n)},f=(n,a,c)=>{for(const s of a??[]){if(s.path===n)return c??s;if(s.children&&s.children.length){const S=f(n,s.children,c??s);if(S)return S}}};return y(u,()=>{var n;if(d.value){const a=(n=u.value)==null?void 0:n[0];if(a){const c=f(a,o.value??[]);c&&(l.selectedKeys=[c.path])}}},{immediate:!0}),y(d,()=>{var n,a;if(!d.value)l.selectedKeys=[];else{const c=((n=u.value)==null?void 0:n[0])??((a=K.value)==null?void 0:a[0])??"",s=f(c,o.value??[]);s?l.selectedKeys=[s==null?void 0:s.path]:l.selectedKeys=[]}}),{logo:W,title:C,layout:m,collapsed:L,collapsedWidth:b,menuData:o,siderWidth:w,fixedHeader:j,fixedSider:D,headerHeight:P,theme:E,isMobile:v,mobileCollapsed:h,contentWidth:U,copyright:q,hasPageContainer:H,splitMenus:d,splitState:l,menuDataMap:i,selectedMenus:A,handleMobileCollapsed:F,header:I,menu:O,footer:R,openKeys:K,handleOpenKeys:G,selectedKeys:u,handleSelectedKeys:J,handleMenuSelect:N,handleSplitSelectedKeys:B,menuHeader:z,headerCollapsed:k,...x}}const[Z,V]=Q(T),_=()=>V();export{Z as a,_ as u};
