import{d as N,z as I,f as h,w as K,c as x,$ as d,a6 as f,a9 as i,a5 as P,u as n,ab as b,B as q,k as g,F as A,a7 as R,H as $,G as O,af as W,ag as F,K as G,Q as k,a3 as B,a4 as L,Z as U,ah as D,ai as H,ac as M}from"./vue-BrVXbuSH.js";import{V as Q,W as X,w as Z,I as J,X as E}from"./antd-Ca0Vg3PV.js";const Y={class:"flex justify-between flex-col lg:flex-row gap-2 lg:gap-0"},ee={class:"flex flex-col md:flex-row gap-2 justify-between items-center w-full"},ae={class:"t-pagination-total-text text-center md:text-start"},te={unselectable:"on",class:"t-pagination !justify-center md:!justify-end"},ne={href:"javascript:;",rel:"nofollow"},se=["onClick"],oe={href:"javascript:;",rel:"nofollow"},ie={href:"javascript:;",rel:"nofollow"},le={class:"t-pagination-options-quick-jumper"},re=N({name:"WPagination",inheritAttrs:!1,__name:"index",props:{pagination:{type:Object,required:!0},enableOptions:{type:Boolean,required:!1,default:()=>!0}},emits:["change"],setup(r,{emit:w}){const v=r,p=w,e=I(v,"pagination"),y=h([{label:"10 條/頁",value:10},{label:"20 條/頁",value:20},{label:"30 條/頁",value:30},{label:"50 條/頁",value:50}]),c=h(v.pagination.pageSize);K(()=>v.pagination.pageSize,t=>{c.value=t});const S=x(()=>{let t=1,a=1;e.value.pages<=5||e.value.current<=3?(t=1,e.value.current<=3&&e.value.pages>5?a=5:a=e.value.pages):e.value.pages-e.value.current<2?(t=e.value.pages-4,a=e.value.pages):(t=e.value.current-2,a=e.value.current+2,a>e.value.pages&&(a=e.value.pages));const _=[];for(let m=t;m<=a;m++)_.push(m);return _}),C=x(()=>e.value.current!==1),j=x(()=>e.value.pages>0&&e.value.current!==e.value.pages);function s(t){p("change",e.value.current,t)}function u(t){p("change",t,e.value.pageSize)}const o=h("");function z(){const t=Number(o.value);t&&t>0&&t<=e.value.pages&&p("change",Number(o.value),e.value.pageSize),o.value=""}return(t,a)=>{const _=Z,m=J;return d(),f("div",Y,[i("div",ee,[i("div",ae," 共 "+P(n(e).total)+" 筆 ",1),i("ul",te,[i("li",{title:"上一頁",class:b(["t-pagination-prev",{"t-pagination-disabled":!n(C)}]),"aria-disabled":"false",tabindex:"0",onClick:a[0]||(a[0]=q(l=>u(n(e).current-1),["prevent"]))},[i("a",ne,[g(n(Q))])],2),(d(!0),f(A,null,R(n(S),(l,V)=>(d(),f("li",{key:V,tabindex:"0",class:b([{"t-pagination-item-active":l===n(e).current},"t-pagination-item"]),onClick:ce=>u(l)},[i("a",oe,P(l),1)],10,se))),128)),i("li",{title:"下一頁",class:b(["t-pagination-next !me-0 md:!me-2",{"t-pagination-disabled":!n(j)}]),"aria-disabled":"false",tabindex:"0",onClick:a[1]||(a[1]=l=>u(n(e).current+1))},[i("a",ie,[g(n(X))])],2)])]),i("div",{class:b(["t-pagination-options flex w-full @md:!w-[80%] @2xl:!w-[55%] lg:w-2/3 xl:w-[25%] 2xl:w-[18%] justify-end",{hidden:!r.enableOptions}])},[g(_,{value:n(c),"onUpdate:value":a[2]||(a[2]=l=>$(c)?c.value=l:null),options:n(y),class:"t-pagination-options-size-changer",onChange:s},null,8,["value","options"]),i("div",le,[a[4]||(a[4]=O(" 跳至 ")),g(m,{value:n(o),"onUpdate:value":a[3]||(a[3]=l=>$(o)?o.value=l:null),placeholder:"請輸入",type:"number",onKeyup:W(z,["enter"])},null,8,["value"]),a[5]||(a[5]=O("頁 "))])],2)])}}}),ue={key:0,class:"flex justify-between w-full"},pe={key:1,class:"py-16px px-8px bg-sms-grayscale-0"};var T=(r=>(r.ascend="asc",r.descend="desc",r))(T||{});const fe=N({name:"WTable",extends:E,inheritAttrs:!1,__name:"index",props:{pagination:{type:[Object,Boolean]},columns:{},rowKey:{default:"id"},enablePaginationOptions:{type:Boolean,default:!0}},emits:["changePagination","changeSort"],setup(r,{emit:w}){const v=r,p=w,e=F(),y=G(),c=x(()=>({...n(y)})),S=h(null);function C(s,u){p("changePagination",s,u)}async function j(s,u,o){o&&p("changeSort",o.field,T[o.order])}return(s,u)=>{const o=E,z=re;return d(),f("div",{class:b(["bg-white rounded-xl border-1 border-solid border-gray-200 p-4",{"p-5":e.extraStart||e.extraEnd}])},[e.extraStart||e.extraEnd?(d(),f("div",ue,[k(s.$slots,"extraStart"),k(s.$slots,"extraEnd")])):B("",!0),g(o,M({ref_key:"tTableRef",ref:S,class:"t-table"},{...v,...n(c),pagination:!1},{onChange:j}),L({_:2},[R(Object.keys(e).filter(t=>t!=="extraStart"&&t!=="extraEnd"),t=>({name:t,fn:U(a=>[k(s.$slots,t,D(H(a||{})))])}))]),1040),s.pagination!==!1?(d(),f("div",pe,[g(z,{pagination:{...s.pagination,current:s.pagination.current,pageSize:s.pagination.size},"enable-options":s.enablePaginationOptions,onChange:C},null,8,["pagination","enable-options"])])):B("",!0)],2)}}});export{fe as _};
