import{_ as z}from"./index-CS5NO12N.js";import{i as ne,a as V,u as H,d as O,b as se,c as ae,p as le}from"./index-DN9jHWa_.js";import{p as re,_ as ie}from"./typing-C7MIxfkE.js";import{d as $,l as de,$ as n,Y as u,u as e,c as C,a2 as G,a3 as y,_ as I,a4 as W,Z as a,k as d,G as F,a5 as x,a6 as f,F as L,a7 as N,f as Q,a8 as ue,a9 as l,H as q,s as E,aa as P,ab as K,B as ce,Q as w,X as T,w as pe,ac as _e}from"./vue-BrVXbuSH.js";import{u as A,a as me}from"./context-CK8kwsTR.js";import{i as fe,b as X,d as he,M as Y,F as ye,e as ve,L as ge,f as ke,g as be,h as xe,j as $e,B as we,k as Ce,D as Le,l as Se}from"./antd-Ca0Vg3PV.js";import{_ as Me}from"./plugin-vueexport-helper-DlAUqK2U.js";import{u as Ke}from"./query-breakpoints-rxE2JYIu.js";import"./index.vuevuetypescriptsetuptruelang-O913YC12.js";const Ue=$({__name:"index",props:{vnodes:{type:[Object,Function],required:!0}},setup(k){const s=de(k.vnodes);return(r,i)=>(n(),u(e(s)))}}),D=$({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(k){const o=k,s=C(()=>{if(ne(o.icon)){const r=o.icon();if(r)return r}else return fe[o.icon];return null});return(r,i)=>r.icon?(n(),u(G(e(s)),{key:0})):y("",!0)}}),Re=["href","target"],Fe=["href","target"],We=$({__name:"sub-menu",props:{item:{}},setup(k){return(o,s)=>{const r=I("sub-menu",!0),i=Ue,p=I("RouterLink"),c=X,h=he;return o.item.children&&!o.item.hideChildrenInMenu?(n(),u(h,{key:o.item.path},W({title:a(()=>[F(x(o.item.title),1)]),default:a(()=>[(n(!0),f(L,null,N(o.item.children,t=>(n(),f(L,null,[t.hideInMenu?y("",!0):(n(),f(L,{key:0},[t.children?(n(),u(r,{key:t.path,item:t},null,8,["item"])):(n(),u(c,{key:t.path},W({default:a(()=>[e(V)(t.path)?(n(),f("a",{key:1,href:t.path,target:t.target??"_blank"},x(t.title),9,Re)):(n(),u(p,{key:0,to:t.path},{default:a(()=>[F(x(t.title)+" ",1),t.titleAfterNode?(n(),u(i,{key:0,vnodes:t.titleAfterNode},null,8,["vnodes"])):y("",!0)]),_:2},1032,["to"]))]),_:2},[t.icon?{name:"icon",fn:a(()=>[d(D,{icon:t.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[o.item.icon?{name:"icon",fn:a(()=>[d(D,{icon:o.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(n(),u(c,{key:o.item.path},W({default:a(()=>[e(V)(o.item.path)?(n(),f("a",{key:1,href:o.item.path,target:o.item.target??"_blank"},x(o.item.title),9,Fe)):(n(),u(p,{key:0,to:o.item.path},{default:a(()=>[F(x(o.item.title),1)]),_:1},8,["to"]))]),_:2},[o.item.icon?{name:"icon",fn:a(()=>[d(D,{icon:o.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Z=$({__name:"index",setup(k){const{theme:o,collapsed:s,layout:r,isMobile:i,menuData:p,selectedKeys:c,openKeys:h,handleOpenKeys:t,handleSelectedKeys:_,handleMenuSelect:v}=A(),b=C(()=>o.value==="inverted"?"dark":o.value);return(m,S)=>{const U=Y;return n(),u(U,{"selected-keys":e(c),"open-keys":e(h),mode:e(r)==="top"&&!e(i)?"horizontal":"inline",theme:e(b),"inline-collapsed":e(s),class:"ant-pro-sider-menu","onUpdate:openKeys":e(t),"onUpdate:selectedKeys":e(_),onSelect:e(v)},{default:a(()=>[(n(!0),f(L,null,N(e(p),M=>(n(),f(L,{key:M.path},[M.hideInMenu?y("",!0):(n(),u(We,{key:0,item:M},null,8,["item"]))],64))),128))]),_:1},8,["selected-keys","open-keys","mode","theme","inline-collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Ae=$({__name:"logout-modal",setup(k,{expose:o}){const s=Q(!1),r=ue(),i=H();function p(){s.value=!0}function c(){s.value=!1,i.clearToken(),r.push({name:"Login"})}return o({show:p}),(h,t)=>{const _=ye,v=ve;return n(),u(v,{open:e(s),"onUpdate:open":t[0]||(t[0]=b=>q(s)?s.value=b:null),title:"確定登出？",centered:"","ok-text":"確定","cancel-text":"取消","ok-button-props":{class:"mb-5"},"cancel-button-props":{class:"mb-5"},onOk:c},{default:a(()=>[d(_,{layout:"vertical",autocomplete:"off",class:"row g-4"},{default:a(()=>t[1]||(t[1]=[l("p",{class:"text-neutral-800 text-center text-base"}," 登出後需要重新輸入帳密才可登入 ",-1)])),_:1})]),_:1},8,["open"])}}}),Be=["src"],je={key:0},De={class:"flex-1 of-x-hidden of-y-auto"},Ie={class:"flex justify-between"},J=$({__name:"index",setup(k){const{collapsed:o,layout:s,logo:r,theme:i,title:p,collapsedWidth:c,siderWidth:h,headerHeight:t,fixedSider:_,isMobile:v}=A(),b=E("ant-pro-sider"),m=C(()=>({paddingTop:`${s.value!=="side"&&!v.value?t.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"})),S=Q(null),U=C(()=>({[b.value]:!0,[`${b.value}-fixed`]:_.value,[`${b.value}-layout-${s.value}`]:!!s.value,"!bg-sms-bg-dark-mode":!0,"sms-menu":!0})),M=C(()=>(s.value==="side"||v.value)&&s.value!=="mix");function B(){var R;(R=S==null?void 0:S.value)==null||R.show()}return(R,g)=>{const j=z,ee=X,te=Y,oe=ge;return n(),f(L,null,[e(_)?(n(),f("div",{key:0,style:P({width:e(o)?`${e(c)}px`:`${e(h)}px`,maxWidth:e(o)?`${e(c)}px`:`${e(h)}px`,minWidth:e(o)?`${e(c)}px`:`${e(h)}px`,...e(m)})},null,4)):y("",!0),d(oe,{collapsed:e(o)&&!e(v),theme:e(i)==="inverted"?"dark":"light",trigger:null,"collapsed-width":e(c),width:e(h),collapsible:"",class:K(e(U)),style:P(e(m))},{default:a(()=>[e(M)?(n(),f("div",{key:0,class:K(["ant-pro-sider-logo",e(o)&&!e(v)?"ant-pro-sider-collapsed":""])},[l("a",null,[l("img",{src:e(r)},null,8,Be),!e(o)||e(v)?(n(),f("h1",je,x(e(p)),1)):y("",!0)])],2)):y("",!0),l("div",De,[d(Z)]),e(v)?y("",!0):(n(),f("div",{key:1,class:K(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(i)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[d(te,{class:"ant-pro-sider-menu",mode:"inline",selectable:!1},{default:a(()=>[d(ee,{onClick:ce(B,["prevent"])},{default:a(()=>[l("div",Ie,[g[0]||(g[0]=F(" 登出 ")),d(j,{name:"logout"})])]),_:1})]),_:1})],2))]),_:1},8,["collapsed","theme","collapsed-width","width","class","style"]),d(Ae,{ref_key:"logoutModalRef",ref:S},null,512)],64)}}}),Pe=$({__name:"index",setup(k){const{mobileCollapsed:o,siderWidth:s}=A();return(r,i)=>{const p=ke;return n(),u(p,{open:e(o),"onUpdate:open":i[0]||(i[0]=c=>q(o)?o.value=c:null),closable:!1,placement:"left",width:e(s)},{default:a(()=>[d(J)]),_:1},8,["open","width"])}}}),Ne={class:"footer-tool-bar__left"},Ve={class:"footer-tool-bar__center"},Oe={class:"footer-tool-bar__right"},Te={class:"px-5"},ze=$({__name:"index",setup(k){const o=E("ant-pro-footer-toolbar"),{siderWidth:s,collapsed:r,collapsedWidth:i,isMobile:p,layout:c}=A(),h=C(()=>{if(!(p.value||c.value==="top"))return`calc(100% - ${r.value?i.value:s.value}px)`});return(t,_)=>(n(),f("div",{class:K(e(o)),style:P({width:e(h),transition:"0.3s all"})},[l("div",Ne,[w(t.$slots,"left",{},void 0,!0)]),l("div",Ve,[w(t.$slots,"default",{},void 0,!0)]),l("div",Oe,[w(t.$slots,"right",{},()=>[l("div",Te,[l("a",{href:"javascript:;",class:"me-6 text-sms-grayscale-100 font-400",onClick:_[0]||(_[0]=()=>e(O).footerContactUsLink)},"聯絡我們"),l("a",{href:"javascript:;",class:"text-sms-grayscale-100 font-400",onClick:_[1]||(_[1]=()=>e(O).footerInstructions)},"操作說明")])],!0)])],6))}}),He=Me(ze,[["__scopeId","data-v-7e478d9c"]]),Ge=["data-theme"],Qe=$({__name:"index",props:re,emits:["update:collapsed"],setup(k,{emit:o}){const s=k,r=o;function i(t){var _;r("update:collapsed",t),(_=s==null?void 0:s.onCollapsed)==null||_.call(s,t)}const{layout:p,contentWidth:c}=me(s,{handleCollapsed:i}),h=C(()=>c.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(t,_)=>{const v=xe,b=$e,m=be;return n(),f("div",{class:"ant-pro-basicLayout","data-theme":t.theme},[d(m,null,{default:a(()=>[t.menu?(n(),f(L,{key:0},[e(p)!=="top"&&!t.isMobile?(n(),u(J,{key:0})):y("",!0)],64)):y("",!0),d(m,null,{default:a(()=>[t.header?(n(),u(ie,{key:0},W({_:2},[t.$slots.headerActions?{name:"headerActions",fn:a(()=>[w(t.$slots,"headerActions")]),key:"0"}:void 0,t.$slots.headerContent||e(p)==="top"?{name:"headerContent",fn:a(()=>[w(t.$slots,"headerContent",{},()=>[t.isMobile?y("",!0):(n(),u(Z,{key:0}))])]),key:"1"}:void 0]),1024)):y("",!0),w(t.$slots,"contentPrefix"),d(v,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:a(()=>[l("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:K(e(h))},[w(t.$slots,"default")],2)]),_:3}),t.footer?(n(),u(b,{key:1,style:{background:"transparent",height:"48px"}},{default:a(()=>[w(t.$slots,"footerRender",{},()=>[d(He)])]),_:3})):y("",!0)]),_:3})]),_:3}),t.menu?(n(),u(Pe,{key:0})):y("",!0)],8,Ge)}}}),qe={class:"max-h-[420px] overflow-y-scroll m--3"},Ee={key:0,class:"flex justify-end mr--2"},Xe={class:"flex justify-between cursor-pointer"},Ye={class:"text-neutral-800 text-base"},Ze={class:"mb-1"},Je={class:"text-neutral-600"},et={flex:"","items-center":"","h-40px":"","md:px-12px":"","gap-1":"","cursor-pointer":"",class:"transition-all-300 text-neutral-50 rounded-1 relative"},tt={flex:"","items-center":"","h-40px":"","md:px-12px":"","gap-1":"","cursor-pointer":"",class:"transition-all-300 text-neutral-50 md:bg-brown-500 rounded-1"},ot={class:"anticon"},pt=$({__name:"index",setup(k){const o=se(),{layoutSetting:s}=T(o),r=H(),i=ae(),{selectedKeys:p,openKeys:c}=T(i),{isMobile:h,isPad:t}=Ke();pe(t,b=>{b?o.toggleCollapsed(!0):o.toggleCollapsed(!1)});const _=C(()=>le(o.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth"])),v=[{title:"1L發酵槽 A",content:"轉速過高",time:"2024/03/12 14:00",read:!1},{title:"1L發酵槽 A",content:"轉速過高",time:"2024/03/12 14:00",read:!1},{title:"1L發酵槽 B",content:"槽壓過低",time:"2024/03/12 14:00",read:!0},{title:"1L發酵槽 D",content:"槽壓過低",time:"2024/03/12 14:00",read:!0},{title:"1L發酵槽 C",content:"槽壓過低",time:"2024/03/12 14:00",read:!0},{title:"1L發酵槽 C",content:"槽壓過低",time:"2024/03/12 14:00",read:!0}];return(b,m)=>{const S=Ce,U=z,M=Le,B=I("RouterView"),R=Se;return n(),u(Qe,_e({collapsed:e(s).collapsed,theme:e(s).theme,"menu-data":e(r).menuData},e(_),{"selected-keys":e(p),"open-keys":e(s).layout==="top"?[]:e(c),copyright:e(s).copyright,"is-mobile":e(h),logo:e(s).logo,title:e(s).title,"onUpdate:openKeys":e(i).handleOpenKeys,"onUpdate:selectedKeys":e(i).handleSelectedKeys,"onUpdate:collapsed":e(o).toggleCollapsed}),{headerContent:a(()=>m[0]||(m[0]=[F(x(""))])),headerActions:a(()=>[d(S,{trigger:"click",placement:"bottomRight"},{content:a(()=>[l("div",qe,[(n(),f(L,null,N(v,(g,j)=>l("div",{key:j,class:K(["w-[330px] p-4 border-b border-neutral-300 border-b-solid last-of-type:border-b-0",{"pt-2":!g.read,"bg-neutral-200":g.read}])},[g.read?y("",!0):(n(),f("div",Ee,m[1]||(m[1]=[l("div",{class:"bg-otherRed-500 w-2 h-2 rounded"},null,-1)]))),l("div",Xe,[l("div",Ye,[l("div",Ze,x(g.title),1),l("div",null,x(g.content),1)]),l("div",Je,x(g.time),1)])],2)),64))])]),default:a(()=>[l("span",et,[m[2]||(m[2]=l("div",{class:"bg-otherRed-500 w-2 h-2 rounded absolute top-2 right-2.5"},null,-1)),d(e(we),{class:"text-[20px]"})])]),_:1}),d(M,null,{default:a(()=>{var g;return[l("span",tt,[d(U,{name:"user",width:"24px",class:"hidden md:block"}),l("span",ot,x((g=e(r).userInfo)==null?void 0:g.name),1)])]}),_:1})]),contentPrefix:a(()=>m[3]||(m[3]=[])),renderFooterLinks:a(()=>m[4]||(m[4]=[])),default:a(()=>[d(R,{"h-full":"",flex:"","flex-col":"","flex-1":"",content:""},{default:a(()=>[d(B,null,{default:a(({Component:g})=>[(n(),u(G(g)))]),_:1})]),_:1})]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"])}}});export{pt as default};
